<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Update Spa Location - Admin</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css"
		/>
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<div class="container">
				<a class="navbar-brand" href="/admin">
					<i class="bi bi-spa"></i> Admin Portal
				</a>
				<a href="/admin" class="btn btn-outline-secondary">Back to Dashboard</a>
			</div>
		</nav>

		<div class="container mt-3">
			{% with messages = get_flashed_messages(with_categories=true) %} {% if
			messages %} {% for category, message in messages %}
			<div
				class="alert alert-{{ category }} alert-dismissible fade show"
				role="alert"
			>
				{{ message }}
				<button
					type="button"
					class="btn-close"
					data-bs-dismiss="alert"
				></button>
			</div>
			{% endfor %} {% endif %} {% endwith %}
		</div>

		<div class="container mt-4">
			<div class="row justify-content-center">
				<div class="col-md-8">
					<div class="card">
						<div class="card-header bg-primary text-white">
							<h5 class="mb-0">Update Spa Location</h5>
						</div>
						<div class="card-body">
							<form
								method="POST"
								action="{{ url_for('admin.update_spa_location') }}"
							>
								<div class="mb-3">
									<label for="spa_id" class="form-label">Select Spa *</label>
									<select
										class="form-select"
										id="spa_id"
										name="spa_id"
										required
									>
										<option value="">Choose a spa...</option>
										{% for spa in spas %}
										<option value="{{ spa.id }}">
											{{ spa.name }} - {{ spa.area }}
										</option>
										{% endfor %}
									</select>
								</div>

								<div class="mb-3">
									<label for="maps_embed_url" class="form-label"
										>Google Maps Embed URL *</label
									>
									<textarea
										class="form-control"
										id="maps_embed_url"
										name="maps_embed_url"
										rows="4"
										placeholder="Paste Google Maps embed URL here..."
										required
									></textarea>
									<div class="form-text">
										Get the embed URL from Google Maps: Share → Embed a map →
										Copy HTML
									</div>
								</div>

								<div class="d-grid gap-2 d-md-flex justify-content-md-end">
									<a
										href="{{ url_for('admin.admin_dashboard') }}"
										class="btn btn-secondary me-md-2"
									>
										Cancel
									</a>
									<button type="submit" class="btn btn-primary">
										Update Location
									</button>
								</div>
							</form>
						</div>
					</div>

					<div class="card mt-4">
						<div class="card-header">
							<h6 class="mb-0">How to get Google Maps Embed URL</h6>
						</div>
						<div class="card-body">
							<ol>
								<li>
									Go to
									<a href="https://www.google.com/maps" target="_blank"
										>Google Maps</a
									>
								</li>
								<li>Search for the spa location</li>
								<li>Click the "Share" button</li>
								<li>Select "Embed a map" tab</li>
								<li>Copy the HTML code</li>
								<li>Extract the URL from the src attribute of the iframe</li>
							</ol>
							<p class="text-muted mb-0">
								Example:
								<code
									>https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.521260322283!2d-4.6300219!3d55.4563726!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x22e029a56c28b525%3A0x46e3539e927becfe!2sDigitech!5e0!3m2!1sen!2sus!4v1680000000000!5m2!1sen!2sus</code
								>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
	</body>
</html>
